<div>
    <span>A</span>
    <span>B</span>
    <div>
      <span>C</span>
      DE
      <span>FGHI</span>
      <span>J</span>
      <span>K</span>
    </div>
    <span>L</span>
    <span>M</span>
    OPQRST
  </div>
  <script>
  var sel = window.getSelection();
  document.onmouseup = function(){
    console.log(sel.anchorNode);    //起点所在的文本节点
    console.log(sel.anchorOffset);  //起点在该节点中的位置
    console.log(sel.focusNode);     //终点所在的文本节点
    console.log(sel.focusOffset);   //终点在该节点中的位置
    console.log(sel.isCollapsed);   //起点和终点是否在同一位置
    console.log(sel.rangeCount);    // ranges （区域）的个数
  }
  </script>
  