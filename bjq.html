<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://unpkg.com/@wangeditor/editor@latest/dist/css/style.css" rel="stylesheet">
    <style>
        #container {
            margin: 0 10px;
            border: 1px solid #ccc;
        }

        #toolbar-container {
            border-bottom: 1px solid #ccc;
        }

        #editor-container {
            height: 500px;
        }
    </style>
</head>

<body>
    <P>wangEditor V5</P>
    <div id="container">
        <div id="toolbar-container"></div>
        <div id="editor-container"></div>
    </div>
    <script src="https://unpkg.com/@wangeditor/editor@latest/dist/index.js"></script>
    <script>
        //   var E = window.wangEditor; // å…¨å±€å˜é‡
        const { createEditor, createToolbar } = window.wangEditor
        // ç¼–è¾‘å™¨é…ç½®
        const editorConfig = { MENU_CONF: {} }
        editorConfig.placeholder = 'è¯·è¾“å…¥å†…å®¹'
        editorConfig.onChange = (editor) => {
            // å½“ç¼–è¾‘å™¨é€‰åŒºã€å†…å®¹å˜åŒ–æ—¶ï¼Œå³è§¦å‘
            console.log('content', editor.children)
            console.log('html', editor.getHtml())
        }
        // // æ–‡å­—é¢œè‰²
        // editorConfig.MENU_CONF['color'] = {
        //     colors: ['#000', '#333', '#666']
        // }

        // èƒŒæ™¯è‰²
        // editorConfig.MENU_CONF['bgColor'] = {
        //     colors: ['#000', '#333', '#666']
        // }

        // // å­—å·
        // editorConfig.MENU_CONF['fontSize'] = {
        //     fontSizeList: ['12px', '16px', '24px', '40px' , '240px']
        // }


        // // å­—ä½“
        // editorConfig.MENU_CONF['fontFamily'] = {
        //     fontFamilyList: [
        //         // å…ƒç´ æ”¯æŒä¸¤ç§å½¢å¼
        //         //   1. å­—ç¬¦ä¸²ï¼›
        //         //   2. { name: 'xxx', value: 'xxx' }

        //         'é»‘ä½“',
        //         'æ¥·ä½“',
        //         { name: 'ä»¿å®‹', value: 'ä»¿å®‹' },
        //         'Arial',
        //         'Tahoma',
        //         'Verdana'
        //     ]    
        // }

        // // è¡¨æƒ…
        // editorConfig.MENU_CONF['emotion'] = {
        //     emotions: 'ğŸ’° ğŸ˜€ ğŸ˜ƒ ğŸ˜„ ğŸ˜ ğŸ˜† ğŸ˜… ğŸ˜‚ ğŸ¤£ ğŸ˜Š ğŸ˜‡ ğŸ™‚ ğŸ™ƒ ğŸ˜‰'.split(' ') // æ•°ç»„
        // }


        // // è‡ªå®šä¹‰æ ¡éªŒé“¾æ¥
        // function customCheckLinkFn(text, url) {
        //     if (!url) {
        //         return
        //     }
        //     if (url.indexOf('http') !== 0) {
        //         return 'é“¾æ¥å¿…é¡»ä»¥ http/https å¼€å¤´'
        //     }
        //     return true

        //     // è¿”å›å€¼æœ‰ä¸‰ç§é€‰æ‹©ï¼š
        //     // 1. è¿”å› true ï¼Œè¯´æ˜æ£€æŸ¥é€šè¿‡ï¼Œç¼–è¾‘å™¨å°†æ­£å¸¸æ’å…¥é“¾æ¥
        //     // 2. è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯´æ˜æ£€æŸ¥æœªé€šè¿‡ï¼Œç¼–è¾‘å™¨ä¼šé˜»æ­¢æ’å…¥ã€‚ä¼š alert å‡ºé”™è¯¯ä¿¡æ¯ï¼ˆå³è¿”å›çš„å­—ç¬¦ä¸²ï¼‰
        //     // 3. è¿”å› undefinedï¼ˆå³æ²¡æœ‰ä»»ä½•è¿”å›ï¼‰ï¼Œè¯´æ˜æ£€æŸ¥æœªé€šè¿‡ï¼Œç¼–è¾‘å™¨ä¼šé˜»æ­¢æ’å…¥ã€‚ä½†ä¸ä¼šæç¤ºä»»ä½•ä¿¡æ¯
        // }

        // // è‡ªå®šä¹‰è½¬æ¢é“¾æ¥ url
        // function customParseLinkUrl(url) {
        //     if (url.indexOf('http') !== 0) {
        //         return `http://${url}`
        //     }
        //     return url
        // }

        // const editorConfig = { MENU_CONF: {} }

        // // æ’å…¥é“¾æ¥
        // editorConfig.MENU_CONF['insertLink'] = {
        //     checkLink: customCheckLinkFn, // ä¹Ÿæ”¯æŒ async å‡½æ•°
        //     parseLinkUrl: customParseLinkUrl, // ä¹Ÿæ”¯æŒ async å‡½æ•°
        // }
        // // æ›´æ–°é“¾æ¥
        // editorConfig.MENU_CONF['editLink'] = {
        //     checkLink: customCheckLinkFn, // ä¹Ÿæ”¯æŒ async å‡½æ•°
        //     parseLinkUrl: customParseLinkUrl, // ä¹Ÿæ”¯æŒ async å‡½æ•°
        // }

        // // æ‰§è¡Œ createEditor

        // // ä»£ç é«˜äº®
        // editorConfig.MENU_CONF['codeSelectLang'] = {
        //     // ä»£ç è¯­è¨€
        //     codeLangs: [
        //         { text: 'CSS', value: 'css' },
        //         { text: 'HTML', value: 'html' },
        //         { text: 'XML', value: 'xml' },
        //         // å…¶ä»–
        //     ]
        // }

        //é…ç½®ç¼–è¾‘å™¨æ˜¯å¦æ”¯æŒæ»šåŠ¨
        // editorConfig.scroll = false
        

        // å·¥å…·æ é…ç½®
        const toolbarConfig = {
            //  // è‡ªå®šä¹‰æ‰©å±•èœå•
            // insertKeys: {
            //     index: 0, // æ’å…¥çš„ä½ç½®ï¼ŒåŸºäºå½“å‰çš„ toolbarKeys
            //     keys: ['menu-key1', 'menu-key2']
            // },

            // // æ’é™¤èœå•ç»„
            // excludeKeys: [
            //     'headerSelect',
            //     'italic',
            //     'group-more-style' // æ’é™¤èœå•ç»„ï¼Œå†™èœå•ç»„ key çš„å€¼å³å¯
            // ]
        }


        // åˆ›å»ºç¼–è¾‘å™¨
        const editor = createEditor({
            selector: '#editor-container',
            config: editorConfig,
            mode: 'default',// æˆ– 'simple' å‚è€ƒä¸‹æ–‡
            // html: '<p>hello <strong>world</strong></p>',

        })
        // const text = '...' // text å†…å®¹
        // const html = text.split(/\n/).map(line => `<p>${line}</p>`).join('\n')

        // åˆ›å»ºå·¥å…·æ 
        const toolbar = createToolbar({
            editor,
            selector: '#toolbar-container',
            config: toolbarConfig,
            mode: 'default' // æˆ– 'simple' å‚è€ƒä¸‹æ–‡
        })
        console.log(editor.getHtml());
    </script>
</body>

</html>